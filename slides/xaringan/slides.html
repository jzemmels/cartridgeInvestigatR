<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>cartridgeInvestigatR</title>
    <meta charset="utf-8" />
    <meta name="author" content="Joseph Zemmels" />
    <meta name="date" content="2022-08-02" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/csafe.css" type="text/css" />
    <link rel="stylesheet" href="css/csafe-fonts.css" type="text/css" />
    <link rel="stylesheet" href="css/this-presentation.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">


background-image: url("images/title-slide-bkgd.png")

&lt;/br&gt;

# `cartridgeInvestigatR`

## An Interactive App for Cartridge Case Identification

### Joseph Zemmels

#### International Association for Identication Conference, 2022






---

# Acknowledgements

## Funding statement

This work was partially funded by the Center for Statistics and Applications in Forensic Evidence (CSAFE) through Cooperative Agreement 70NANB20H019 between NIST and Iowa State University, which includes activities carried out at Carnegie Mellon University, Duke University, University of California Irvine, University of Virginia, West Virginia University, University of Pennsylvania, Swarthmore College and University of Nebraska, Lincoln.

---

&lt;img src="images/comparisonPipelineDiagram.png" width="1831" style="display: block; margin: auto;" /&gt;


0) &lt;u&gt;Data Collection&lt;/u&gt;: topographically scan fired cartridge cases

--

1) &lt;u&gt;Preprocess&lt;/u&gt;: prepare cartridge case scans for comparison

--

2) &lt;u&gt;Compare&lt;/u&gt;: compare two scans

--

3) &lt;u&gt;Score&lt;/u&gt;: calculate a similarity score based on comparison

--

Lastly, a conclusion is formed based on results of examination (e.g., identification, exclusion, inconclusive).

Our app encompasses the Preprocess, Compare, and Score steps

---

## 0) Data Collection

- Cartridge cases recovered from scene of shooting and from a suspect's firearm

  - Sufficient agreement between class characteristics

- Use 3D topographic scanner to scan cartridge cases

  - Scans are saved as x3p (XML 3D Surface Profile) files

&lt;img src="images/dataCollectionExample.png" width="60%" style="display: block; margin: auto;" /&gt;


---

## 1) Preprocess

- &lt;u&gt;Isolate&lt;/u&gt;: remove regions of cartridge case scan that do not contain breech face impressions.

- &lt;u&gt;Emphasize&lt;/u&gt;: intensify BF impressions compared to other markings

&lt;img src="images/preProcessDiagram.png" width="1600" style="display: block; margin: auto;" /&gt;


---

## 2) Compare

- Compare surfaces of two preprocessed cartridge case scans

--

- We use the cell-based procedure outlined in Song (2013):

&lt;img src="images/cmc_illustration.PNG" width="70%" style="display: block; margin: auto;" /&gt;

1. Divide one scan into a grid of "cells"

--

2. Allow each cell to roam over the surface of the other scan

--

3. Determine where each cell aligns best by maximizing the cross-correlation


---

## 3) Score

- Use comparison results to calculate a similarity "score."

--

- For example, Congruent Matching Cells method [Song, 2013]

&lt;img src="images/comparisonPlot.png" width="80%" style="display: block; margin: auto;" /&gt;


--

- CMCs "agree" on where they align in the other scan

---

## The `cartridgeInvestigatR` app

- We want non-programmers to engage with these algorithms

- Our app enables experimentation and learning

&lt;img src="images/workflowDiagram.png" width="40%" style="display: block; margin: auto;" /&gt;


--

- [csafe.shinyapps.io/cartridgeInvestigatR/](https://csafe.shinyapps.io/cartridgeInvestigatR/)

---

## Your turn

Use the "Import" tab to upload the scans in the `knownMatch` folder.
This folder contains two known-match scans.
Use the app to compare the two scans.

- How do the similarity scores compare to your assessment of the similarity of the cartridge cases?

- Try changing the parameters in the "Comparison Parameters" and/or "Congruent Matching Cells" tabs. How do changing parameters affect the final similarity score?

**Challenge**: Use the "Import" tab to upload the scans in the `questioned` folder. The first two scans, `x3p1` and `x3p2`, are known matches. Does the third scan, `x3p3`, match the other two? Use the app to inform your decision.

---
class: primary-blue
# References

Zheng, X., Soons, J., Thompson, R., Singh, S., &amp; Constantin, C. (2020). NIST Ballistics Toolmark Research Database. In Journal of Research of the National Institute of Standards and Technology (Vol. 125). National Institute of Standards and Technology (NIST). [https://doi.org/10.6028/jres.125.004](https://doi.org/10.6028/jres.125.004)

J. Song. Proposed “NIST Ballistics Identification System (NBIS)” Based on 3D Topography Measurements on Correlation Cells. American Firearm and Tool Mark Examiners Journal, 45(2):11, 2013. URL [https://tsapps.nist.gov/publication/get_pdf.cfm?pub_id=910868](https://tsapps.nist.gov/publication/get_pdf.cfm?pub_id=910868).

Zemmels, J., VanderPlas, S., Hofmann, H. (2022) *A Study in Reproducibility: The Congruent Matching Cells Algorithm and cmcR package*. [https://github.com/jzemmels/cmcRWriteup](https://github.com/jzemmels/cmcRWriteup)
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_HTMLorMML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
